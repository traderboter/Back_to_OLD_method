# ØªØ­Ù„ÛŒÙ„ Ú©Ø§Ù…Ù„ ÙØ±Ø¢ÛŒÙ†Ø¯ ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§ØªÛŒ - Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯ (NEW SYSTEM)

## Ù…Ù‚Ø¯Ù…Ù‡

Ø§ÛŒÙ† Ø³Ù†Ø¯ ØªÙˆØ¶ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ Ú©Ù‡ Ø¯Ø± **Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯ Ù…Ø§Ú˜ÙˆÙ„Ø§Ø±** ÙˆÙ‚ØªÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú†Ù‡Ø§Ø± ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… (5m, 15m, 1h, 4h) Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ùˆ Ø§ÛŒØ¬Ø§Ø¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù…Ø¹Ø§Ù…Ù„Ø§ØªÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ØŒ Ú†Ù‡ Ø§ØªÙØ§Ù‚Ø§ØªÛŒ Ù…ÛŒâ€ŒØ§ÙØªØ¯. Ø¯Ø± Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ…ØŒ **Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ (Scoring) Ø¨Ø§ 13 Ø¶Ø±ÛŒØ¨ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯** Ú©Ù‡ ØªØ±Ú©ÛŒØ¨ÛŒ Ø§Ø² ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø§Ø³Øª.

### ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ÛŒ Ø¨Ù†ÛŒØ§Ø¯ÛŒ Ø¨Ø§ Ø³ÛŒØ³ØªÙ… Ù‚Ø¯ÛŒÙ…ÛŒ

| Ø¬Ù†Ø¨Ù‡ | Ø³ÛŒØ³ØªÙ… Ù‚Ø¯ÛŒÙ…ÛŒ (OLD) | Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯ (NEW) |
|------|------------------|------------------|
| **Ù…Ø¹Ù…Ø§Ø±ÛŒ** | Monolithic (ØªÚ©â€ŒØ¨Ù„ÙˆÚ©ÛŒ) | Modular (Ù…Ø§Ú˜ÙˆÙ„Ø§Ø±) |
| **Ù†Ù‚Ø·Ù‡ ÙˆØ±ÙˆØ¯** | SignalGenerator | SignalOrchestrator |
| **ØªØ¹Ø¯Ø§Ø¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§** | 1 ÙØ§ÛŒÙ„ Ø¨Ø²Ø±Ú¯ | 90+ ÙØ§ÛŒÙ„ Ù…Ø³ØªÙ‚Ù„ |
| **Analyzers** | Ù…ØªØ¯Ù‡Ø§ÛŒ Ø¯Ø±ÙˆÙ† Ú©Ù„Ø§Ø³ | 11 Ú©Ù„Ø§Ø³ Ù…Ø³ØªÙ‚Ù„ |
| **Indicators** | Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù¾Ø±Ø§Ú©Ù†Ø¯Ù‡ | IndicatorOrchestrator Ù…ØªÙ…Ø±Ú©Ø² |
| **Patterns** | Ú©Ø¯ Ø¯Ø±Ù‡Ù… | 35+ Ø§Ù„Ú¯ÙˆÛŒ Ù…Ø³ØªÙ‚Ù„ |
| **Caching** | Ù†Ø¯Ø§Ø±Ø¯ | TimeframeScoreCache |
| **Testing** | Ø³Ø®Øª | Ø¢Ø³Ø§Ù† (unit test) |
| **Performance** | Ú©Ù†Ø¯ØªØ± | Ø³Ø±ÛŒØ¹â€ŒØªØ± (Ø¨Ø§ cache) |
| **ÙˆØ²Ù†â€ŒØ¯Ù‡ÛŒ** | Ø«Ø§Ø¨Øª | Per-Timeframe Configurable |

### ÙÙ„Ø³ÙÙ‡ Ø·Ø±Ø§Ø­ÛŒ Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯

âœ… **Separation of Concerns**: Ù‡Ø± Ù…Ø§Ú˜ÙˆÙ„ ÛŒÚ© Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ù…Ø´Ø®Øµ Ø¯Ø§Ø±Ø¯
âœ… **Single Responsibility**: Ù‡Ø± Ú©Ù„Ø§Ø³ ÙÙ‚Ø· ÛŒÚ© Ú©Ø§Ø± Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
âœ… **Dependency Injection**: Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§ Ø§Ø² config Ø®Ø§Ø±Ø¬ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯
âœ… **Context Sharing**: Ù‡Ù…Ù‡ Ø§Ø² ÛŒÚ© AnalysisContext Ù…Ø´ØªØ±Ú© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯
âœ… **Cache-First**: Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø­Ø§Ø³Ø¨Ø§Øª ØªÚ©Ø±Ø§Ø±ÛŒ
âœ… **Type Safety**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Enums Ùˆ Constants

### Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ (High-Level Architecture)

```
SignalProcessor (ÙˆØ±ÙˆØ¯ÛŒ)
    â†“
SignalOrchestrator (Ù‡Ù…Ø§Ù‡Ù†Ú¯â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø§ØµÙ„ÛŒ)
    â†“
    â”œâ”€â†’ IndicatorOrchestrator (Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ØªÙ…Ø±Ú©Ø² 10 Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±)
    â”‚   â””â”€â†’ EMA, SMA, RSI, MACD, Stochastic, ATR, Bollinger, OBV, ADX
    â”‚
    â”œâ”€â†’ 11 Analyzers (ØªØ­Ù„ÛŒÙ„Ú¯Ø±Ø§Ù† Ù…Ø³ØªÙ‚Ù„)
    â”‚   â”œâ”€â†’ TrendAnalyzer (548 Ø®Ø·)
    â”‚   â”œâ”€â†’ MomentumAnalyzer (1303 Ø®Ø·)
    â”‚   â”œâ”€â†’ VolumeAnalyzer (596 Ø®Ø·)
    â”‚   â”œâ”€â†’ VolumePatternAnalyzer (583 Ø®Ø·)
    â”‚   â”œâ”€â†’ PatternAnalyzer (464 Ø®Ø·)
    â”‚   â”‚   â””â”€â†’ PatternOrchestrator â†’ 35+ Ø§Ù„Ú¯Ùˆ (Ú©Ù†Ø¯Ù„ÛŒ + Ú†Ø§Ø±Øª)
    â”‚   â”œâ”€â†’ SRAnalyzer (Support/Resistance - 781 Ø®Ø·)
    â”‚   â”œâ”€â†’ VolatilityAnalyzer (538 Ø®Ø·)
    â”‚   â”œâ”€â†’ HarmonicAnalyzer (495 Ø®Ø·)
    â”‚   â”œâ”€â†’ ChannelAnalyzer (154 Ø®Ø·)
    â”‚   â”œâ”€â†’ CyclicalAnalyzer (371 Ø®Ø·)
    â”‚   â””â”€â†’ HTFAnalyzer (Higher Timeframe - 323 Ø®Ø·)
    â”‚
    â”œâ”€â†’ 4 Ø³ÛŒØ³ØªÙ… Ù‡ÙˆØ´Ù…Ù†Ø¯
    â”‚   â”œâ”€â†’ MarketRegimeDetector (ØªØ´Ø®ÛŒØµ Ø±Ú˜ÛŒÙ… Ø¨Ø§Ø²Ø§Ø±)
    â”‚   â”œâ”€â†’ AdaptiveLearningSystem (ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ØªØ·Ø¨ÛŒÙ‚ÛŒ)
    â”‚   â”œâ”€â†’ CorrelationManager (Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ù…Ø¨Ø³ØªÚ¯ÛŒ)
    â”‚   â””â”€â†’ EmergencyCircuitBreaker (Ù…Ø¯Ø§Ø± Ø´Ú©Ù† Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ)
    â”‚
    â”œâ”€â†’ SignalScorer (Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ Ø¨Ø§ 13 Ø¶Ø±ÛŒØ¨ - 876 Ø®Ø·)
    â”œâ”€â†’ MultiTimeframeAggregator (ØªØ±Ú©ÛŒØ¨ TF Ù‡Ø§ - 822 Ø®Ø·)
    â””â”€â†’ SignalValidator (Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ)
         â†“
SignalInfo (Ø®Ø±ÙˆØ¬ÛŒ)
```

### Ø³Ø§Ø®ØªØ§Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

```
signal_generation/
â”œâ”€â”€ orchestrator.py (1275 Ø®Ø·)              # ğŸ¯ Ù†Ù‚Ø·Ù‡ ÙˆØ±ÙˆØ¯ Ø§ØµÙ„ÛŒ
â”œâ”€â”€ signal_scorer.py (876 Ø®Ø·)              # â­ Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ
â”œâ”€â”€ signal_validator.py (29001 Ø®Ø·)         # âœ… Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
â”œâ”€â”€ multi_tf_aggregator.py (822 Ø®Ø·)        # ğŸ”„ ØªØ±Ú©ÛŒØ¨ TF
â”œâ”€â”€ timeframe_score_cache.py (17775 Ø®Ø·)    # ğŸ’¾ Ú©Ø´
â”‚
â”œâ”€â”€ analyzers/                              # ğŸ“Š 11 ØªØ­Ù„ÛŒÙ„Ú¯Ø± (6535 Ø®Ø·)
â”‚   â”œâ”€â”€ base_analyzer.py (350 Ø®Ø·)
â”‚   â”œâ”€â”€ trend_analyzer.py (548 Ø®Ø·)
â”‚   â”œâ”€â”€ momentum_analyzer.py (1303 Ø®Ø·)
â”‚   â”œâ”€â”€ volume_analyzer.py (596 Ø®Ø·)
â”‚   â”œâ”€â”€ volume_pattern_analyzer.py (583 Ø®Ø·)
â”‚   â”œâ”€â”€ pattern_analyzer.py (464 Ø®Ø·)
â”‚   â”œâ”€â”€ sr_analyzer.py (781 Ø®Ø·)
â”‚   â”œâ”€â”€ volatility_analyzer.py (538 Ø®Ø·)
â”‚   â”œâ”€â”€ harmonic_analyzer.py (495 Ø®Ø·)
â”‚   â”œâ”€â”€ channel_analyzer.py (154 Ø®Ø·)
â”‚   â”œâ”€â”€ cyclical_analyzer.py (371 Ø®Ø·)
â”‚   â””â”€â”€ htf_analyzer.py (323 Ø®Ø·)
â”‚
â”œâ”€â”€ analyzers/indicators/                   # ğŸ“ˆ Ø³ÛŒØ³ØªÙ… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§
â”‚   â”œâ”€â”€ indicator_orchestrator.py (347 Ø®Ø·)
â”‚   â”œâ”€â”€ base_indicator.py (13694 Ø®Ø·)
â”‚   â””â”€â”€ ema.py, sma.py, rsi.py, macd.py, ... (10 Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±)
â”‚
â”œâ”€â”€ analyzers/patterns/                     # ğŸ•¯ï¸ 35+ Ø§Ù„Ú¯Ùˆ
â”‚   â”œâ”€â”€ pattern_orchestrator.py
â”‚   â”œâ”€â”€ candlestick/ (30+ Ø§Ù„Ú¯ÙˆÛŒ Ú©Ù†Ø¯Ù„ÛŒ)
â”‚   â”‚   â”œâ”€â”€ engulfing.py, hammer.py, doji.py, ...
â”‚   â”‚   â””â”€â”€ morning_star.py, three_white_soldiers.py, ...
â”‚   â””â”€â”€ chart/ (5 Ø§Ù„Ú¯ÙˆÛŒ Ú†Ø§Ø±Øª)
â”‚       â”œâ”€â”€ head_shoulders.py, double_top_bottom.py
â”‚       â””â”€â”€ triangle.py, wedge.py, flag_pennant.py
â”‚
â””â”€â”€ systems/                                # ğŸ§  Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯
    â”œâ”€â”€ market_regime_detector.py
    â”œâ”€â”€ adaptive_learning_system.py
    â”œâ”€â”€ correlation_manager.py
    â””â”€â”€ emergency_circuit_breaker.py
```

---

## Ø¨Ø®Ø´ Û±: Ù…Ø³ÛŒØ± ÙˆØ±ÙˆØ¯ Ø¯Ø§Ø¯Ù‡ Ùˆ Ø´Ø±ÙˆØ¹ ØªØ­Ù„ÛŒÙ„

### 1.1 Ù†Ù‚Ø·Ù‡ Ø´Ø±ÙˆØ¹: Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

ÙˆÙ‚ØªÛŒ `SignalProcessor` ÛŒÚ© Ù†Ù…Ø§Ø¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø§Ø² Ù…ØªØ¯ `process_symbol()` Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯:

**Ù…Ø­Ù„:** `signal_processor.py:392-560`

```python
async def process_symbol(self, symbol: str, force_refresh: bool = False, priority: bool = False)
```

Ø§ÛŒÙ† Ù…ØªØ¯:
1. Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ú†Ù†Ø¯ ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (Ø§Ø² `MarketDataFetcher`)
2. Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ `SignalOrchestrator.analyze_symbol()` Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯

### 1.2 ÙˆØ±ÙˆØ¯ Ø¨Ù‡ SignalOrchestrator

**Ù…Ø­Ù„:** `signal_generation/orchestrator.py:872-959`

```python
async def analyze_symbol(
    self,
    symbol: str,
    timeframes_data: Dict[str, Any]
) -> Optional[SignalInfo]:
```

**Ú¯Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**

```python
# Ø®Ø· 894-897: ÙÛŒÙ„ØªØ± ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø¹ØªØ¨Ø±
valid_timeframes = {
    tf: df for tf, df in timeframes_data.items()
    if df is not None and not df.empty
}

# Ø®Ø· 904-906: Ø¨Ø±Ø±Ø³ÛŒ ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† Multi-TF Aggregation
if not self.use_multi_tf_aggregation:
    return None

# Ø®Ø· 910-933: ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ù‡Ø± ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…
for timeframe in valid_timeframes.keys():
    result = await self._generate_signal_with_context(symbol, timeframe)
    # Ø³Ø§Ø®Øª TimeframeSignal Ø¨Ø±Ø§ÛŒ Ù‡Ø± TF

# Ø®Ø· 942-945: ØªØ±Ú©ÛŒØ¨ Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§ Ø¨Ø§ MultiTimeframeAggregator
aggregated_signal = self.multi_tf_aggregator.aggregate_timeframe_scores(
    symbol=symbol,
    timeframe_signals=timeframe_signals
)
```

**Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…:** Ø§ÛŒÙ† Ù…ØªØ¯ Ø¨Ø±Ø§ÛŒ **Ù‡Ø± ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…** Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø³ÛŒÚ¯Ù†Ø§Ù„ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ø³Ù¾Ø³ Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ ØªØ±Ú©ÛŒØ¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

### 1.3 ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø¨Ø±Ø§ÛŒ ÛŒÚ© ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…

**Ù…Ø­Ù„:** `signal_generation/orchestrator.py:261-513`

```python
async def generate_signal_for_symbol(
    self,
    symbol: str,
    timeframe: str
) -> Optional[SignalInfo]:
```

Ø§ÛŒÙ† Ù…ØªØ¯ **7 Ù…Ø±Ø­Ù„Ù‡ Ø§ØµÙ„ÛŒ + 7 Ø²ÛŒØ±Ù…Ø±Ø­Ù„Ù‡** Ø¯Ø§Ø±Ø¯:

#### **Ù…Ø±Ø­Ù„Ù‡ 0: Ø¨Ø±Ø±Ø³ÛŒ Circuit Breaker**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 284-292

```python
if self.circuit_breaker.enabled:
    is_active, reason = self.circuit_breaker.check_if_active()
    if is_active:
        logger.warning(f"ğŸš¨ Circuit breaker active: {reason}")
        return None
```

**Ù‡Ø¯Ù:** Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø¯Ø± Ø´Ø±Ø§ÛŒØ· Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ (Ù…Ø«Ù„Ø§Ù‹ Ø¨Ø¹Ø¯ Ø§Ø² Ø¶Ø±Ø±Ù‡Ø§ÛŒ Ù…ØªÙˆØ§Ù„ÛŒ)

#### **Ù…Ø±Ø­Ù„Ù‡ 1: Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø±**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 294-304

```python
df = await self._fetch_market_data(symbol, timeframe)
```

**Ø¬Ø²Ø¦ÛŒØ§Øª:**
- ØªØ¹Ø¯Ø§Ø¯ Ú©Ù†Ø¯Ù„â€ŒÙ‡Ø§: 500 (Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ… Ø§Ø² config)
- Ø­Ø¯Ø§Ù‚Ù„ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²: 200 Ú©Ù†Ø¯Ù„
- Ø³ØªÙˆÙ†â€ŒÙ‡Ø§: open, high, low, close, volume, timestamp

#### **Ù…Ø±Ø­Ù„Ù‡ 1.5: Ø¨Ø±Ø±Ø³ÛŒ Cache**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 306-326

```python
should_recalc, reason = self.tf_score_cache.should_recalculate(
    symbol, timeframe, df
)

if not should_recalc:
    # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ù…ØªÛŒØ§Ø² Ú©Ø´ Ø´Ø¯Ù‡
    cached_signal = self.tf_score_cache.get_cached_score(symbol, timeframe)
    return cached_signal
```

**Ø´Ø±Ø§ÛŒØ· invalidation (Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¬Ø¯Ø¯):**
1. Ú©Ù†Ø¯Ù„ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡
2. ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù‡
3. Ú©Ø´ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ (TTL)
4. Ú©Ø´ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª

**Ù…Ø²ÛŒØª:** Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø­Ø§Ø³Ø¨Ø§Øª ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø§Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

#### **Ù…Ø±Ø­Ù„Ù‡ 2: Ø§ÛŒØ¬Ø§Ø¯ AnalysisContext**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 328-335

```python
context = AnalysisContext(
    symbol=symbol,
    timeframe=timeframe,
    df=df
)
```

**AnalysisContext Ú†ÛŒØ³ØªØŸ**
ÛŒÚ© Ø´ÛŒØ¡ Ù…Ø´ØªØ±Ú© Ú©Ù‡ ØªÙ…Ø§Ù… Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªØ­Ù„ÛŒÙ„ Ø±Ø§ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:
- `df`: DataFrame Ø¨Ø§ OHLCV Ùˆ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§
- `symbol`: Ù†Ø§Ù… Ù†Ù…Ø§Ø¯
- `timeframe`: ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… Ø¬Ø§Ø±ÛŒ
- `results`: Ù†ØªØ§ÛŒØ¬ ØªÙ…Ø§Ù… Analyzer Ù‡Ø§
- `metadata`: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ

#### **Ù…Ø±Ø­Ù„Ù‡ 3: Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 337-347

```python
success = self._calculate_indicators(context)
```

**Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ø± Ø¨Ø®Ø´ 2 ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.**

#### **Ù…Ø±Ø­Ù„Ù‡ 3.5: ØªØ´Ø®ÛŒØµ Ø±Ú˜ÛŒÙ… Ø¨Ø§Ø²Ø§Ø±**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 350-362

```python
if self.regime_detector.enabled:
    regime_info = self.regime_detector.detect_regime(context.df)
    # Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± context Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Analyzer Ù‡Ø§
    context.metadata['regime_info'] = regime_info
```

**Ø±Ú˜ÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù…Ú©Ù†:**
- `trending_bullish`: Ø±ÙˆÙ†Ø¯ ØµØ¹ÙˆØ¯ÛŒ
- `trending_bearish`: Ø±ÙˆÙ†Ø¯ Ù†Ø²ÙˆÙ„ÛŒ
- `ranging`: Ø®Ù†Ø«ÛŒ
- `high_volatility`: Ù†ÙˆØ³Ø§Ù† Ø¨Ø§Ù„Ø§
- `low_volatility`: Ù†ÙˆØ³Ø§Ù† Ù¾Ø§ÛŒÛŒÙ†

#### **Ù…Ø±Ø­Ù„Ù‡ 4: Ø§Ø¬Ø±Ø§ÛŒ Analyzers**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 365-379

```python
self._run_analyzers(context)

# Ø¨Ø±Ø±Ø³ÛŒ Analyzer Ù‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ
required = ['trend', 'momentum', 'volume']
missing = [r for r in required if not context.get_result(r)]
if missing:
    return None
```

**Analyzer Ù‡Ø§ÛŒ Ø§Ø¬Ø±Ø§ Ø´Ø¯Ù‡ (11 Ø¹Ø¯Ø¯):**
1. TrendAnalyzer
2. MomentumAnalyzer
3. VolumeAnalyzer
4. VolumePatternAnalyzer
5. PatternAnalyzer
6. SRAnalyzer
7. VolatilityAnalyzer
8. HarmonicAnalyzer
9. ChannelAnalyzer
10. CyclicalAnalyzer
11. HTFAnalyzer

**Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ø± Ø¨Ø®Ø´ 3 ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.**

#### **Ù…Ø±Ø­Ù„Ù‡ 5: ØªØ¹ÛŒÛŒÙ† Ø¬Ù‡Øª**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 381-390

```python
direction = self._determine_direction(context)
# Ù†ØªÛŒØ¬Ù‡: 'LONG', 'SHORT', ÛŒØ§ None
```

**Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… ØªØ¹ÛŒÛŒÙ† Ø¬Ù‡Øª:**
```python
bullish_score = 0
bearish_score = 0

# Trend (ÙˆØ²Ù† 3x)
if trend == 'bullish':
    bullish_score += trend_strength * 3

# Momentum (ÙˆØ²Ù† 2x)
if momentum == 'bullish':
    bullish_score += momentum_strength * 2

# Volume (bonus +1)
if volume_confirmed:
    bullish_score += 1

# Patterns
for pattern in patterns:
    if pattern.direction == 'bullish':
        bullish_score += pattern.score

# ØªØ¹ÛŒÛŒÙ† Ù†Ù‡Ø§ÛŒÛŒ
if bullish_score > bearish_score + threshold:
    direction = 'LONG'
elif bearish_score > bullish_score + threshold:
    direction = 'SHORT'
else:
    direction = None  # Ø³ÛŒÚ¯Ù†Ø§Ù„ ÙˆØ§Ø¶Ø­ÛŒ Ù†ÛŒØ³Øª
```

#### **Ù…Ø±Ø­Ù„Ù‡ 6: Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø²**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 392-412

```python
score = self.signal_scorer.calculate_score(context, direction)
```

**Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ù…Ù„ Ø¯Ø± Ø¨Ø®Ø´ 4 ØªÙˆØ¶ÛŒØ­ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.**

Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø³ÛŒØ§Ø± Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ø§Ø³Øª Ùˆ Ø´Ø§Ù…Ù„:
- Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ Ù¾Ø§ÛŒÙ‡ Ø§Ø² 10 Analyzer
- ÙˆØ²Ù†â€ŒØ¯Ù‡ÛŒ Ø¨Ø§ 10 ÙˆØ²Ù† Ù…Ø®ØªÙ„Ù
- Ù…Ø­Ø§Ø³Ø¨Ù‡ confluence (Ù‡Ù…Ú¯Ø±Ø§ÛŒÛŒ)
- Ø§Ø¹Ù…Ø§Ù„ 13 Ø¶Ø±ÛŒØ¨ (multiplier)

#### **Ù…Ø±Ø­Ù„Ù‡ 7: Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 442-462

```python
is_valid, reason = self.signal_validator.validate(signal, context)

if not is_valid:
    logger.info(f"Signal rejected: {reason}")
    return None
```

**Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø±Ø±Ø³ÛŒ Ø´Ø¯Ù‡:**
1. Ø­Ø¯Ø§Ù‚Ù„ Ø§Ù…ØªÛŒØ§Ø² (min_score)
2. Risk/Reward ratio >= 2.0
3. Ø­Ø¬Ù… Ú©Ø§ÙÛŒ
4. ÙØ§ØµÙ„Ù‡ Ø§Ø² Ø³Ø·ÙˆØ­ SR
5. ØªØ§ÛŒÛŒØ¯ Ú†Ù†Ø¯ Analyzer
6. Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ

#### **Ù†ØªÛŒØ¬Ù‡ Ù†Ù‡Ø§ÛŒÛŒ:**
**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 464-489

```python
# Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Cache
self.tf_score_cache.update_cache(symbol, timeframe, signal, df)

# Ø°Ø®ÛŒØ±Ù‡ Context Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø¹Ø¯ÛŒ
cache_key = f"{symbol}:{timeframe}"
self._context_cache[cache_key] = (context, time.time())

# Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ TradeManager (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
if self.send_to_trade_manager:
    await self._send_to_trade_manager(signal)

return signal  # SignalInfo
```

---

**Ø®Ù„Ø§ØµÙ‡ Ø¨Ø®Ø´ 1:**

Ù…Ø³ÛŒØ± ÙˆØ±ÙˆØ¯ Ø¯Ø§Ø¯Ù‡:
```
SignalProcessor.process_symbol()
    â†“
SignalOrchestrator.analyze_symbol() [Ø¨Ø±Ø§ÛŒ Ù‡Ø± TF]
    â†“
    â”œâ”€ generate_signal_for_symbol() â†’ Ø³ÛŒÚ¯Ù†Ø§Ù„ ØªÚ© TF
    â”‚   â”œâ”€ [0] Circuit Breaker Check
    â”‚   â”œâ”€ [1] Fetch Data (500 candles)
    â”‚   â”œâ”€ [1.5] Cache Check
    â”‚   â”œâ”€ [2] Create Context
    â”‚   â”œâ”€ [3] Calculate Indicators (10 indicators)
    â”‚   â”œâ”€ [3.5] Detect Market Regime
    â”‚   â”œâ”€ [4] Run Analyzers (11 analyzers)
    â”‚   â”œâ”€ [5] Determine Direction
    â”‚   â”œâ”€ [6] Calculate Score (13 multipliers)
    â”‚   â””â”€ [7] Validate
    â†“
MultiTimeframeAggregator.aggregate_timeframe_scores()
    â†“
SignalInfo Ù†Ù‡Ø§ÛŒÛŒ (ØªØ±Ú©ÛŒØ¨ Ú†Ù†Ø¯ TF)
```

---

## Ø¨Ø®Ø´ Û²: Ø³ÛŒØ³ØªÙ… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ (Indicator System)

### 2.1 Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§

Ø³ÛŒØ³ØªÙ… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ ØµÙˆØ±Øª **Ø³Ù„Ø³Ù„Ù‡ Ù…Ø±Ø§ØªØ¨ÛŒ Ùˆ Ù…ØªÙ…Ø±Ú©Ø²** Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª:

```
IndicatorCalculator (wrapper)
    â†“
IndicatorOrchestrator (Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ - 347 Ø®Ø·)
    â†“
BaseIndicator (Ú©Ù„Ø§Ø³ abstract)
    â†“
10 Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± Ù…Ø³ØªÙ‚Ù„:
â”œâ”€â”€ EMA (Exponential Moving Average)
â”œâ”€â”€ SMA (Simple Moving Average)
â”œâ”€â”€ RSI (Relative Strength Index)
â”œâ”€â”€ MACD (Moving Average Convergence Divergence)
â”œâ”€â”€ Stochastic
â”œâ”€â”€ ATR (Average True Range)
â”œâ”€â”€ Bollinger Bands
â”œâ”€â”€ OBV (On-Balance Volume)
â”œâ”€â”€ ADX (Average Directional Index)
â””â”€â”€ [Future indicators...]
```

### 2.2 IndicatorOrchestrator - Ù…Ø¯ÛŒØ± Ù…ØªÙ…Ø±Ú©Ø²

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/indicator_orchestrator.py:17-347`

**Ù…Ø³Ø¦ÙˆÙ„ÛŒØªâ€ŒÙ‡Ø§:**
1. Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± ØªÙ…Ø§Ù… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§
2. Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§ (dependencies)
3. Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ ØµØ­ÛŒØ­
4. Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² caching
5. Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§

**Ø³Ø§Ø®ØªØ§Ø±:**

```python
class IndicatorOrchestrator:
    def __init__(self, config):
        # Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§
        self.trend_indicators = {}      # EMA, SMA, ADX
        self.momentum_indicators = {}   # RSI, MACD, Stochastic
        self.volatility_indicators = {} # ATR, Bollinger
        self.volume_indicators = {}     # OBV

        self.all_indicators = {}  # ØªÙ…Ø§Ù… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§

        self._load_indicators()  # Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
```

**Ù…ØªØ¯ Ø§ØµÙ„ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡:**

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 143-201

```python
def calculate_all(
    self,
    df: pd.DataFrame,
    indicator_names: Optional[List[str]] = None
) -> pd.DataFrame:
    """
    Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙ…Ø§Ù… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ Ø¨Ù‡ ØªØ±ØªÛŒØ¨ ØµØ­ÛŒØ­.

    ØªØ±ØªÛŒØ¨ Ù…Ø­Ø§Ø³Ø¨Ù‡:
    1. Trend indicators (EMA, SMA, ADX)
    2. Momentum indicators (RSI, MACD, Stochastic)
    3. Volatility indicators (ATR, Bollinger)
    4. Volume indicators (OBV)
    """
```

**Ú†Ø±Ø§ Ø§ÛŒÙ† ØªØ±ØªÛŒØ¨ Ù…Ù‡Ù… Ø§Ø³ØªØŸ**
Ø¨Ø¹Ø¶ÛŒ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ Ø¨Ù‡ Ø®Ø±ÙˆØ¬ÛŒ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù†Ø¯. Ù…Ø«Ù„Ø§Ù‹ MACD Ø¨Ù‡ EMA Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯.

### 2.3 BaseIndicator - Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/base_indicator.py:18-350`

Ù‡Ø± Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± Ø¨Ø§ÛŒØ¯ Ø§Ø² Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ abstract Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ú©Ù†Ø¯:

```python
class BaseIndicator(ABC):
    @abstractmethod
    def _get_indicator_name(self) -> str:
        """Ù†Ø§Ù… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± (Ù…Ø«Ù„Ø§Ù‹ 'EMA')"""
        pass

    @abstractmethod
    def _get_indicator_type(self) -> str:
        """Ù†ÙˆØ¹: 'trend', 'momentum', 'volatility', 'volume'"""
        pass

    @abstractmethod
    def _get_required_columns(self) -> List[str]:
        """Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ù„Ø§Ø²Ù… (Ù…Ø«Ù„Ø§Ù‹ ['close'])"""
        pass

    @abstractmethod
    def _get_output_columns(self) -> List[str]:
        """Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ (Ù…Ø«Ù„Ø§Ù‹ ['ema_20', 'ema_50'])"""
        pass

    @abstractmethod
    def calculate(self, df: pd.DataFrame) -> pd.DataFrame:
        """Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§ØµÙ„ÛŒ Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±"""
        pass
```

**ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±Ú©:**
- âœ… Validation Ø®ÙˆØ¯Ú©Ø§Ø± ÙˆØ±ÙˆØ¯ÛŒ
- âœ… Error handling
- âœ… Caching support
- âœ… Per-timeframe configuration

### 2.4 Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯ (10 Ø¹Ø¯Ø¯)

#### **2.4.1 EMA (Exponential Moving Average)**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/ema.py:15-100`

```python
class EMAIndicator(BaseIndicator):
    default_periods = [20, 50, 100]  # Ù¾ÛŒØ´â€ŒÙØ±Ø¶
```

**ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
alpha = 2 / (period + 1)
EMA[i] = price[i] Ã— alpha + EMA[i-1] Ã— (1 - alpha)
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `ema_20`: Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù…ØªØ­Ø±Ú© Ù†Ù…Ø§ÛŒÛŒ 20 Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ
- `ema_50`: Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù…ØªØ­Ø±Ú© Ù†Ù…Ø§ÛŒÛŒ 50 Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ
- `ema_100`: Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù…ØªØ­Ø±Ú© Ù†Ù…Ø§ÛŒÛŒ 100 Ø¯ÙˆØ±Ù‡â€ŒØ§ÛŒ

**Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Analyzers:**
- TrendAnalyzer: ØªØ¹ÛŒÛŒÙ† Ø¬Ù‡Øª Ø±ÙˆÙ†Ø¯
- MomentumAnalyzer: ØªØ´Ø®ÛŒØµ Ú©Ø±Ø§Ø³â€ŒØ§ÙˆØ±Ù‡Ø§
- HTFAnalyzer: Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ø§ ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… Ø¨Ø§Ù„Ø§ØªØ±

#### **2.4.2 RSI (Relative Strength Index)**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/rsi.py:15-120`

```python
class RSIIndicator(BaseIndicator):
    default_period = 14
```

**ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
RS = Average Gain / Average Loss
RSI = 100 - (100 / (1 + RS))
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `rsi_14`: RSI Ø¨Ø§ Ø¯ÙˆØ±Ù‡ 14

**Ø³Ø·ÙˆØ­ Ù…Ù‡Ù…:**
- RSI > 70: Overbought (Ø§Ø´Ø¨Ø§Ø¹ Ø®Ø±ÛŒØ¯)
- RSI < 30: Oversold (Ø§Ø´Ø¨Ø§Ø¹ ÙØ±ÙˆØ´)
- 30-70: Neutral

#### **2.4.3 MACD (Moving Average Convergence Divergence)**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/macd.py:15-95`

```python
class MACDIndicator(BaseIndicator):
    default_fast = 12
    default_slow = 26
    default_signal = 9
```

**ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
MACD Line = EMA(12) - EMA(26)
Signal Line = EMA(9) of MACD
Histogram = MACD - Signal
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `macd`: Ø®Ø· MACD
- `macd_signal`: Ø®Ø· Ø³ÛŒÚ¯Ù†Ø§Ù„
- `macd_hist`: Ù‡ÛŒØ³ØªÙˆÚ¯Ø±Ø§Ù…

**Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§:**
- MACD > Signal: ØµØ¹ÙˆØ¯ÛŒ
- MACD < Signal: Ù†Ø²ÙˆÙ„ÛŒ
- Histogram > 0: Ù‚Ø¯Ø±Øª ØµØ¹ÙˆØ¯ÛŒ
- Histogram < 0: Ù‚Ø¯Ø±Øª Ù†Ø²ÙˆÙ„ÛŒ

#### **2.4.4 Stochastic**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/stochastic.py:15-105`

```python
class StochasticIndicator(BaseIndicator):
    default_k_period = 14
    default_d_period = 3
    default_smooth = 3
```

**ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
%K = 100 Ã— (Close - Lowest Low) / (Highest High - Lowest Low)
%D = SMA(%K, 3)
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `stoch_k`: Ø®Ø· %K
- `stoch_d`: Ø®Ø· %D

**Ø³Ø·ÙˆØ­:**
- K > 80: Overbought
- K < 20: Oversold

#### **2.4.5 ATR (Average True Range)**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/atr.py:15-80`

```python
class ATRIndicator(BaseIndicator):
    default_period = 14
```

**ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
TR = max(high - low, |high - prev_close|, |low - prev_close|)
ATR = EMA(TR, 14)
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `atr_14`: ATR Ø¨Ø§ Ø¯ÙˆØ±Ù‡ 14

**Ú©Ø§Ø±Ø¨Ø±Ø¯:**
- Ù…Ø­Ø§Ø³Ø¨Ù‡ Stop Loss (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ 1.5-2Ã— ATR)
- Ù…Ø­Ø§Ø³Ø¨Ù‡ Take Profit
- Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ù†ÙˆØ³Ø§Ù† Ø¨Ø§Ø²Ø§Ø±

#### **2.4.6 Bollinger Bands**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/bollinger_bands.py:15-90`

```python
class BollingerBandsIndicator(BaseIndicator):
    default_period = 20
    default_std_dev = 2
```

**ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
Middle Band = SMA(20)
Upper Band = SMA(20) + (2 Ã— Ïƒ)
Lower Band = SMA(20) - (2 Ã— Ïƒ)
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `bb_upper`: Ø¨Ø§Ù†Ø¯ Ø¨Ø§Ù„Ø§ÛŒÛŒ
- `bb_middle`: Ø¨Ø§Ù†Ø¯ Ù…ÛŒØ§Ù†ÛŒ
- `bb_lower`: Ø¨Ø§Ù†Ø¯ Ù¾Ø§ÛŒÛŒÙ†ÛŒ

**Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§:**
- Ù‚ÛŒÙ…Øª Ù†Ø²Ø¯ÛŒÚ© Upper Band: Ø§Ø­ØªÙ…Ø§Ù„ Ø¨Ø±Ú¯Ø´Øª Ù†Ø²ÙˆÙ„ÛŒ
- Ù‚ÛŒÙ…Øª Ù†Ø²Ø¯ÛŒÚ© Lower Band: Ø§Ø­ØªÙ…Ø§Ù„ Ø¨Ø±Ú¯Ø´Øª ØµØ¹ÙˆØ¯ÛŒ
- Ø¨Ø§Ù†Ø¯Ù‡Ø§ Ø¨Ø§Ø² Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯: Ø§ÙØ²Ø§ÛŒØ´ Ù†ÙˆØ³Ø§Ù†

#### **2.4.7 OBV (On-Balance Volume)**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/obv.py:15-70`

```python
class OBVIndicator(BaseIndicator):
    # No parameters
```

**ÙØ±Ù…ÙˆÙ„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**
```
if close > prev_close:
    OBV = prev_OBV + volume
elif close < prev_close:
    OBV = prev_OBV - volume
else:
    OBV = prev_OBV
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `obv`: On-Balance Volume

**Ú©Ø§Ø±Ø¨Ø±Ø¯:**
- ØªØ§ÛŒÛŒØ¯ Ø±ÙˆÙ†Ø¯ Ø¨Ø§ Ø­Ø¬Ù…
- ØªØ´Ø®ÛŒØµ divergence

#### **2.4.8 ADX (Average Directional Index)**

**Ù…Ø­Ù„:** `signal_generation/analyzers/indicators/adx.py:15-75`

```python
class ADXIndicator(BaseIndicator):
    default_period = 14
```

**Ø®Ø±ÙˆØ¬ÛŒ:**
- `adx`: Ø´Ø§Ø®Øµ ADX
- `plus_di`: +DI
- `minus_di`: -DI

**Ù…Ø¹Ù†ÛŒ:**
- ADX > 25: Ø±ÙˆÙ†Ø¯ Ù‚ÙˆÛŒ
- ADX < 20: Ø±ÙˆÙ†Ø¯ Ø¶Ø¹ÛŒÙ/Ø®Ù†Ø«ÛŒ
- +DI > -DI: Ø±ÙˆÙ†Ø¯ ØµØ¹ÙˆØ¯ÛŒ
- -DI > +DI: Ø±ÙˆÙ†Ø¯ Ù†Ø²ÙˆÙ„ÛŒ

### 2.5 ÙØ±Ø¢ÛŒÙ†Ø¯ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø¯Ø± Orchestrator

**Ù…Ø­Ù„:** `orchestrator.py:535-544`

```python
def _calculate_indicators(self, context: AnalysisContext) -> bool:
    """Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªÙ…Ø§Ù… Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§."""
    try:
        # Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² IndicatorCalculator (wrapper)
        self.indicator_calculator.calculate_all(context)
        return True
    except Exception as e:
        logger.error(f"Failed to calculate indicators: {e}")
        return False
```

**Ù†ØªÛŒØ¬Ù‡:**
Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ØŒ `context.df` Ø¯Ø§Ø±Ø§ÛŒ 20+ Ø³ØªÙˆÙ† Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ± Ø§Ø³Øª:

```
ema_20, ema_50, ema_100
sma_20, sma_50, sma_100
rsi_14
macd, macd_signal, macd_hist
stoch_k, stoch_d
atr_14
bb_upper, bb_middle, bb_lower
obv
adx, plus_di, minus_di
```

Ø§ÛŒÙ† Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ ØªÙˆØ³Ø· Analyzers Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

---

## Ø¨Ø®Ø´ Û³: ØªØ­Ù„ÛŒÙ„Ú¯Ø±Ø§Ù† (Analyzers)

### 3.1 Ù…Ø¹Ù…Ø§Ø±ÛŒ ØªØ­Ù„ÛŒÙ„Ú¯Ø±Ø§Ù†

ØªØ­Ù„ÛŒÙ„Ú¯Ø±Ø§Ù† Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ ØµÙˆØ±Øª **Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø³ØªÙ‚Ù„** Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯:

```
BaseAnalyzer (Ú©Ù„Ø§Ø³ abstract - 350 Ø®Ø·)
    â†“
11 Analyzer Ù…Ø³ØªÙ‚Ù„:
â”œâ”€â”€ TrendAnalyzer (548 Ø®Ø·)              â† ØªØ­Ù„ÛŒÙ„ Ø±ÙˆÙ†Ø¯
â”œâ”€â”€ MomentumAnalyzer (1303 Ø®Ø·)          â† ØªØ­Ù„ÛŒÙ„ Ù…ÙˆÙ…Ù†ØªÙˆÙ…
â”œâ”€â”€ VolumeAnalyzer (596 Ø®Ø·)             â† ØªØ­Ù„ÛŒÙ„ Ø­Ø¬Ù…
â”œâ”€â”€ VolumePatternAnalyzer (583 Ø®Ø·)      â† Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø­Ø¬Ù…ÛŒ
â”œâ”€â”€ PatternAnalyzer (464 Ø®Ø·)            â† Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ú©Ù†Ø¯Ù„ÛŒ Ùˆ Ú†Ø§Ø±Øª
â”œâ”€â”€ SRAnalyzer (781 Ø®Ø·)                 â† Ø­Ù…Ø§ÛŒØª/Ù…Ù‚Ø§ÙˆÙ…Øª
â”œâ”€â”€ VolatilityAnalyzer (538 Ø®Ø·)         â† Ù†ÙˆØ³Ø§Ù†
â”œâ”€â”€ HarmonicAnalyzer (495 Ø®Ø·)           â† Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù‡Ø§Ø±Ù…ÙˆÙ†ÛŒÚ©
â”œâ”€â”€ ChannelAnalyzer (154 Ø®Ø·)            â† Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§
â”œâ”€â”€ CyclicalAnalyzer (371 Ø®Ø·)           â† Ú†Ø±Ø®Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²Ø§Ø±
â””â”€â”€ HTFAnalyzer (323 Ø®Ø·)                â† ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… Ø¨Ø§Ù„Ø§ØªØ±
```

### 3.2 BaseAnalyzer - Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡

**Ù…Ø­Ù„:** `signal_generation/analyzers/base_analyzer.py:22-350`

```python
class BaseAnalyzer(ABC):
    @abstractmethod
    def analyze(self, context: AnalysisContext) -> None:
        """
        Ù…ØªØ¯ Ø§ØµÙ„ÛŒ ØªØ­Ù„ÛŒÙ„ - Ø¨Ø§ÛŒØ¯ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´ÙˆØ¯.

        Ø§Ù„Ú¯ÙˆÛŒ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯:
        1. Ø¨Ø±Ø±Ø³ÛŒ enabled
        2. Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ context
        3. Ø§Ù†Ø¬Ø§Ù… ØªØ­Ù„ÛŒÙ„
        4. Ø°Ø®ÛŒØ±Ù‡ Ù†ØªÛŒØ¬Ù‡ Ø¯Ø± context
        """
        pass
```

### 3.3 Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø§Ù…Ù„: TrendAnalyzer

**Ù…Ø­Ù„:** `signal_generation/analyzers/trend_analyzer.py:48-548`

Ø§ÛŒÙ† Analyzer Ù…Ø³Ø¦ÙˆÙ„ **ØªØ´Ø®ÛŒØµ Ø±ÙˆÙ†Ø¯ Ø¨Ø§Ø²Ø§Ø±** Ø§Ø³Øª Ùˆ ÛŒÚ©ÛŒ Ø§Ø² Ù…Ù‡Ù…â€ŒØªØ±ÛŒÙ† Analyzer Ù‡Ø§ Ù…Ø­Ø³ÙˆØ¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

#### **3.3.1 Ø³Ø§Ø®ØªØ§Ø± Ú©Ù„ÛŒ**

```python
class TrendAnalyzer(BaseAnalyzer):
    def __init__(self, config):
        self.min_slope_threshold = 0.0001  # Ø­Ø¯Ø§Ù‚Ù„ Ø´ÛŒØ¨
        self.slope_lookback = 5            # Ø¯ÙˆØ±Ù‡ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´ÛŒØ¨
        self.enabled = True

    def analyze(self, context: AnalysisContext) -> None:
        """
        9 Ù…Ø±Ø­Ù„Ù‡ ØªØ­Ù„ÛŒÙ„ Ø±ÙˆÙ†Ø¯
        """
```

#### **3.3.2 ÙØ±Ø¢ÛŒÙ†Ø¯ ØªØ­Ù„ÛŒÙ„ (9 Ù…Ø±Ø­Ù„Ù‡)**

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 83-195

```python
# Ù…Ø±Ø­Ù„Ù‡ 1: Ø¨Ø±Ø±Ø³ÛŒ ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù†
if not self._check_enabled():
    return

# Ù…Ø±Ø­Ù„Ù‡ 2: Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ
if not self._validate_context(context):
    return

# Ù…Ø±Ø­Ù„Ù‡ 3: Ø®ÙˆØ§Ù†Ø¯Ù† Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§
current_close = df['close'].iloc[-1]
current_ema20 = df['ema_20'].iloc[-1]
current_ema50 = df['ema_50'].iloc[-1]
current_ema100 = df['ema_100'].iloc[-1]

# Ù…Ø±Ø­Ù„Ù‡ 4: Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´ÛŒØ¨ EMA Ù‡Ø§
ema_slopes = self._calculate_ema_slopes(df)

# Ù…Ø±Ø­Ù„Ù‡ 5: ØªØ¹ÛŒÛŒÙ† Ú†ÛŒØ¯Ù…Ø§Ù† EMA Ù‡Ø§
ema_alignment = self._determine_ema_alignment(
    current_close, current_ema20, current_ema50, current_ema100
)

# Ù…Ø±Ø­Ù„Ù‡ 6: ØªØ´Ø®ÛŒØµ Ø¬Ù‡Øª Ùˆ Ù‚Ø¯Ø±Øª Ø±ÙˆÙ†Ø¯
trend_result = self._detect_trend(...)

# Ù…Ø±Ø­Ù„Ù‡ 7: ØªØ¹ÛŒÛŒÙ† ÙØ§Ø² Ø±ÙˆÙ†Ø¯
trend_phase = self._determine_trend_phase(...)

# Ù…Ø±Ø­Ù„Ù‡ 8: Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù†
confidence = self._calculate_confidence(...)

# Ù…Ø±Ø­Ù„Ù‡ 9: Ø°Ø®ÛŒØ±Ù‡ Ù†ØªÛŒØ¬Ù‡
context.add_result('trend', result)
```

#### **3.3.3 Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´ÛŒØ¨ (Slope)**

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 197-232

```python
def _calculate_ema_slopes(self, df: pd.DataFrame) -> Dict[str, float]:
    """
    Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†Ø±Ø® ØªØºÛŒÛŒØ± (Rate of Change) Ø¨Ø±Ø§ÛŒ Ù‡Ø± EMA

    ÙØ±Ù…ÙˆÙ„:
    slope = (current - past) / past
    """
    lookback = 5  # 5 Ú©Ù†Ø¯Ù„ Ù‚Ø¨Ù„

    ema20_slope = (
        (df['ema_20'].iloc[-1] - df['ema_20'].iloc[-lookback])
        / df['ema_20'].iloc[-lookback]
    )

    # Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø±Ø§ÛŒ ema_50 Ùˆ ema_100

    return {
        'ema20': ema20_slope,
        'ema50': ema50_slope,
        'ema100': ema100_slope
    }
```

**Ù…Ø«Ø§Ù„:**
- slope = 0.01 â†’ Ø±ÙˆÙ†Ø¯ ØµØ¹ÙˆØ¯ÛŒ 1%
- slope = -0.01 â†’ Ø±ÙˆÙ†Ø¯ Ù†Ø²ÙˆÙ„ÛŒ 1%
- slope â‰ˆ 0 â†’ Ø®Ù†Ø«ÛŒ

#### **3.3.4 Ú†ÛŒØ¯Ù…Ø§Ù† EMA Ù‡Ø§ (Alignment)**

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 234-269

```python
def _determine_ema_alignment(
    self, close, ema20, ema50, ema100
) -> str:
    """
    ØªØ´Ø®ÛŒØµ Ø§Ù„Ú¯ÙˆÛŒ Ú†ÛŒØ¯Ù…Ø§Ù† EMA Ù‡Ø§
    """
    if ema20 > ema50 > ema100:
        return 'bullish_aligned'      # ØµØ¹ÙˆØ¯ÛŒ Ú©Ø§Ù…Ù„

    elif ema20 < ema50 < ema100:
        return 'bearish_aligned'      # Ù†Ø²ÙˆÙ„ÛŒ Ú©Ø§Ù…Ù„

    elif ema20 > ema50 and ema50 < ema100:
        return 'potential_bullish_reversal'  # Ø§Ø­ØªÙ…Ø§Ù„ Ø¨Ø±Ú¯Ø´Øª ØµØ¹ÙˆØ¯ÛŒ

    elif ema20 < ema50 and ema50 > ema100:
        return 'potential_bearish_reversal'  # Ø§Ø­ØªÙ…Ø§Ù„ Ø¨Ø±Ú¯Ø´Øª Ù†Ø²ÙˆÙ„ÛŒ

    else:
        return 'mixed'  # Ù…Ø®ØªÙ„Ø·
```

#### **3.3.5 ØªØ´Ø®ÛŒØµ Ø±ÙˆÙ†Ø¯ Ùˆ Ù‚Ø¯Ø±Øª**

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 271-359

```python
def _detect_trend(...) -> Dict[str, Any]:
    """
    ØªØ´Ø®ÛŒØµ Ø¬Ù‡Øª Ùˆ Ù‚Ø¯Ø±Øª Ø±ÙˆÙ†Ø¯ (6 Ø³Ø·Ø­)
    """
    # ØµØ¹ÙˆØ¯ÛŒ Ù‚ÙˆÛŒ (strength = 3)
    if (close > ema20 > ema50 > ema100 and
        ema20_slope > threshold and
        ema50_slope > threshold):
        direction = 'bullish'
        strength = 3

    # ØµØ¹ÙˆØ¯ÛŒ Ù…ØªÙˆØ³Ø· (strength = 2)
    elif (close > ema20 > ema50 and
          ema20_slope > threshold):
        direction = 'bullish'
        strength = 2

    # ØµØ¹ÙˆØ¯ÛŒ Ø¶Ø¹ÛŒÙ (strength = 1)
    elif close > ema20 and ema20_slope > threshold:
        direction = 'bullish'
        strength = 1

    # Ù†Ø²ÙˆÙ„ÛŒ Ù‚ÙˆÛŒ (strength = -3)
    elif (close < ema20 < ema50 < ema100 and
          ema20_slope < -threshold and
          ema50_slope < -threshold):
        direction = 'bearish'
        strength = -3

    # Ù†Ø²ÙˆÙ„ÛŒ Ù…ØªÙˆØ³Ø· (strength = -2)
    elif (close < ema20 < ema50 and
          ema20_slope < -threshold):
        direction = 'bearish'
        strength = -2

    # Ù†Ø²ÙˆÙ„ÛŒ Ø¶Ø¹ÛŒÙ (strength = -1)
    elif close < ema20 and ema20_slope < -threshold:
        direction = 'bearish'
        strength = -1

    # Ø®Ù†Ø«ÛŒ
    else:
        direction = 'neutral'
        strength = 0

    return {'direction': direction, 'strength': strength}
```

#### **3.3.6 ÙØ§Ø² Ø±ÙˆÙ†Ø¯ (Trend Phase)**

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 361-450

```python
def _determine_trend_phase(...) -> str:
    """
    ØªØ¹ÛŒÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø±ÙˆÙ†Ø¯

    ÙØ§Ø²Ù‡Ø§ÛŒ Ù…Ù…Ú©Ù†:
    - early: Ø´Ø±ÙˆØ¹ Ø±ÙˆÙ†Ø¯ (Ø¨Ù‡ØªØ±ÛŒÙ† ÙØ±ØµØª)
    - developing: Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡
    - mature: Ø¨Ø§Ù„Øº
    - late: Ø§ÙˆØ§Ø®Ø± Ø±ÙˆÙ†Ø¯ (Ø®Ø·Ø±Ù†Ø§Ú©)
    - pullback: Ø§ØµÙ„Ø§Ø­ Ù…ÙˆÙ‚Øª
    - transition: Ø§Ù†ØªÙ‚Ø§Ù„ÛŒ
    """
    if direction == 'bullish':
        if alignment == 'potential_bullish_reversal':
            return 'early'  # Ø´Ø±ÙˆØ¹ Ø±ÙˆÙ†Ø¯ ØµØ¹ÙˆØ¯ÛŒ

        elif strength == 3:
            return 'mature'  # Ø±ÙˆÙ†Ø¯ Ù‚ÙˆÛŒ Ùˆ Ø¨Ø§Ù„Øº

        elif alignment == 'bullish_pullback':
            return 'pullback'  # Ø§ØµÙ„Ø§Ø­ Ø¯Ø± Ø±ÙˆÙ†Ø¯ ØµØ¹ÙˆØ¯ÛŒ

    # Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø±Ø§ÛŒ bearish
```

#### **3.3.7 Ø®Ø±ÙˆØ¬ÛŒ TrendAnalyzer**

```python
result = {
    'status': 'ok',
    'direction': 'bullish' | 'bearish' | 'neutral',
    'strength': -3 to +3,
    'phase': 'early' | 'developing' | 'mature' | 'late' | 'pullback' | 'transition',
    'ema_alignment': 'bullish_aligned' | 'bearish_aligned' | ...,
    'price_position': 'above_all' | 'above_ema20' | ...,
    'ema_slopes': {
        'ema20': 0.015,  # +1.5%
        'ema50': 0.008,
        'ema100': 0.005
    },
    'confidence': 0.0 to 1.0,
    'details': {...}
}
```

Ø§ÛŒÙ† Ù†ØªÛŒØ¬Ù‡ Ø¯Ø± `context` Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ ØªÙˆØ³Ø·:
- `_determine_direction()` Ø¨Ø±Ø§ÛŒ ØªØ¹ÛŒÛŒÙ† Ø¬Ù‡Øª Ú©Ù„ÛŒ
- `SignalScorer` Ø¨Ø±Ø§ÛŒ Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ
Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

### 3.4 Ø®Ù„Ø§ØµÙ‡ Ø³Ø§ÛŒØ± Analyzers

#### **3.4.1 MomentumAnalyzer (1303 Ø®Ø·)**
**Ù…Ø³Ø¦ÙˆÙ„ÛŒØª:** ØªØ­Ù„ÛŒÙ„ Ù…ÙˆÙ…Ù†ØªÙˆÙ… Ø¨Ø§ RSI, MACD, Stochastic

**Ø®Ø±ÙˆØ¬ÛŒ:**
```python
{
    'direction': 'bullish' | 'bearish',
    'strength': 0-3,
    'rsi': {'value': 65, 'state': 'neutral'},
    'macd': {'type': 'A_STRONG', 'histogram': 'increasing'},
    'stochastic': {'state': 'oversold'}
}
```

#### **3.4.2 VolumeAnalyzer (596 Ø®Ø·)**
**Ù…Ø³Ø¦ÙˆÙ„ÛŒØª:** ØªØ­Ù„ÛŒÙ„ Ø­Ø¬Ù… Ù…Ø¹Ø§Ù…Ù„Ø§Øª

**Ø®Ø±ÙˆØ¬ÛŒ:**
```python
{
    'is_confirmed': True,  # Ø­Ø¬Ù… Ø¨Ø§Ù„Ø§
    'volume_ratio': 1.5,   # 50% Ø¨ÛŒØ´ØªØ± Ø§Ø² Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†
    'obv_trend': 'increasing'
}
```

#### **3.4.3 PatternAnalyzer (464 Ø®Ø·)**
**Ù…Ø³Ø¦ÙˆÙ„ÛŒØª:** ØªØ´Ø®ÛŒØµ 35+ Ø§Ù„Ú¯Ùˆ (Ú©Ù†Ø¯Ù„ÛŒ + Ú†Ø§Ø±Øª)

**Ø®Ø±ÙˆØ¬ÛŒ:**
```python
{
    'strongest_pattern': {
        'name': 'Bullish Engulfing',
        'confidence': 0.85,
        'location': 'recent',
        'candles_ago': 1
    },
    'candlestick_patterns': [...],
    'chart_patterns': [...]
}
```

#### **3.4.4 SRAnalyzer (781 Ø®Ø·)**
**Ù…Ø³Ø¦ÙˆÙ„ÛŒØª:** ØªØ´Ø®ÛŒØµ Ø³Ø·ÙˆØ­ Ø­Ù…Ø§ÛŒØª/Ù…Ù‚Ø§ÙˆÙ…Øª

**Ø®Ø±ÙˆØ¬ÛŒ:**
```python
{
    'nearest_resistance': 45000,
    'nearest_support': 42000,
    'distance_to_resistance': 200,  # pips
    'zone_strength': 0.8
}
```

### 3.5 Ø§Ø¬Ø±Ø§ÛŒ Analyzers Ø¯Ø± Orchestrator

**Ù…Ø­Ù„:** `orchestrator.py:546-553`

```python
def _run_analyzers(self, context: AnalysisContext) -> None:
    """Ø§Ø¬Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Analyzer Ù‡Ø§ÛŒ ÙØ¹Ø§Ù„"""
    for analyzer_name, analyzer in self.analyzers.items():
        try:
            analyzer.analyze(context)
            logger.debug(f"  âœ“ {analyzer_name} completed")
        except Exception as e:
            logger.error(f"  âœ— {analyzer_name} failed: {e}")
```

**Ù†ØªÛŒØ¬Ù‡:**
Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ØŒ `context` Ø­Ø§ÙˆÛŒ Ù†ØªØ§ÛŒØ¬ 11 Analyzer Ø§Ø³Øª Ú©Ù‡ Ø¯Ø± Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ Ø¨Ø±Ø§ÛŒ Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

---

## Ø¨Ø®Ø´ Û´: Ø³ÛŒØ³ØªÙ… Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ (Scoring System)

### 4.1 SignalScorer - Ù…ÙˆØªÙˆØ± Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ

**Ù…Ø­Ù„:** `signal_generation/signal_scorer.py:27-876`

Ø§ÛŒÙ† Ú©Ù„Ø§Ø³ Ù…Ø³Ø¦ÙˆÙ„ **ØªØ±Ú©ÛŒØ¨ Ù†ØªØ§ÛŒØ¬ 11 Analyzer Ùˆ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ù†Ù‡Ø§ÛŒÛŒ** Ø§Ø³Øª.

### 4.2 ÙØ±Ø¢ÛŒÙ†Ø¯ Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ (13 Ù…Ø±Ø­Ù„Ù‡)

**Ù…Ø­Ù„:** `signal_scorer.py:100-177`

```python
def calculate_score(
    context: AnalysisContext,
    direction: str  # 'LONG' or 'SHORT'
) -> SignalScore:

    # [1] Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª Ù¾Ø§ÛŒÙ‡ (Base Scores)
    self._calculate_base_scores(score, context, direction)

    # [2] Ø§Ø¹Ù…Ø§Ù„ ÙˆØ²Ù†â€ŒÙ‡Ø§ (Weights)
    self._apply_weights(score, context.timeframe)

    # [3] Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ù…Ú¯Ø±Ø§ÛŒÛŒ (Confluence)
    self._calculate_confluence(score, context, direction)

    # [4] ÙˆØ²Ù† ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… (Timeframe Weight)
    self._apply_timeframe_weight(score, context.timeframe)

    # [5] Ø¶Ø±ÛŒØ¨ HTF (HTF Multiplier)
    self._apply_htf_multiplier(score, context, direction)

    # [6] ØªÙ†Ø¸ÛŒÙ… Ù†ÙˆØ³Ø§Ù† (Volatility Adjustment)
    self._apply_volatility_adjustment(score, context)

    # [7] Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒ Ø±ÙˆÙ†Ø¯ (Trend Alignment)
    self._apply_trend_alignment(score, context, direction)

    # [8] ØªØ§ÛŒÛŒØ¯ Ø­Ø¬Ù… (Volume Confirmation)
    self._apply_volume_confirmation(score, context, direction)

    # [9] Ú©ÛŒÙÛŒØª Ø§Ù„Ú¯Ùˆ (Pattern Quality)
    self._apply_pattern_quality(score, context)

    # [10] ØªØ­Ù„ÛŒÙ„ MACD (MACD Analysis)
    self._apply_macd_analysis_score(score, context)

    # [11] ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ØªØ·Ø¨ÛŒÙ‚ÛŒ (Adaptive Learning) - Ø¯Ø± orchestrator
    # [12] Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ù…Ø¨Ø³ØªÚ¯ÛŒ (Correlation) - Ø¯Ø± orchestrator

    # [13] Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ù†Ù‡Ø§ÛŒÛŒ
    score.calculate_final_score(max_score=self.max_final_score)

    return score
```

### 4.3 Ù…Ø±Ø­Ù„Ù‡ 1: Ø§Ù…ØªÛŒØ§Ø²Ø§Øª Ù¾Ø§ÛŒÙ‡

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 179-262

```python
def _calculate_base_scores(score, context, direction):
    """
    Ù‡Ø± Analyzer Ø§Ù…ØªÛŒØ§Ø² 0-100 Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
    """
    # 1. Trend Score
    trend_result = context.get_result('trend')
    score.trend_score = self._score_trend(trend_result, direction)

    # 2. Momentum Score
    momentum_result = context.get_result('momentum')
    score.momentum_score = self._score_momentum(momentum_result, direction)

    # 3. Volume Score
    volume_result = context.get_result('volume')
    score.volume_score = self._score_volume(volume_result, direction)

    # 4. Pattern Score
    pattern_result = context.get_result('patterns')
    score.pattern_score = self._score_patterns(pattern_result, direction)

    # 5-10. Ø³Ø§ÛŒØ± Analyzer Ù‡Ø§
    # SR, Volatility, Harmonic, Channel, Cyclical, HTF
```

**Ù…Ø«Ø§Ù„: Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ Trend**

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 263-280

```python
def _score_trend(trend_result, direction) -> float:
    """
    Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚Ø¯Ø±Øª Ùˆ Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒ
    """
    trend_direction = trend_result.get('direction')
    strength = abs(trend_result.get('strength', 0))

    # Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒ
    if direction == 'LONG' and trend_direction == 'bullish':
        # Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø± Ø§Ø³Ø§Ø³ Ù‚Ø¯Ø±Øª
        if strength == 3:
            return 100  # Ø±ÙˆÙ†Ø¯ Ù‚ÙˆÛŒ
        elif strength == 2:
            return 75
        elif strength == 1:
            return 50

    elif direction == 'SHORT' and trend_direction == 'bearish':
        # Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø§Ù„Ø§

    return 0  # Ø¹Ø¯Ù… Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒ
```

### 4.4 Ù…Ø±Ø­Ù„Ù‡ 2: ÙˆØ²Ù†â€ŒØ¯Ù‡ÛŒ

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 524-555

**ÙˆØ²Ù†â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶:**

```python
DEFAULT_WEIGHTS = {
    'trend': 0.30,          # 30% - Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ†
    'momentum': 0.25,       # 25%
    'volume': 0.20,         # 20%
    'patterns': 0.10,       # 10%
    'support_resistance': 0.08,  # 8%
    'volatility': 0.05,     # 5%
    'harmonic': 0.01,       # 1%
    'channel': 0.005,       # 0.5%
    'cyclical': 0.003,      # 0.3%
    'htf': 0.002            # 0.2%
}
```

**Ù…Ø­Ø§Ø³Ø¨Ù‡:**

```python
score.weighted_trend = score.trend_score Ã— 0.30
score.weighted_momentum = score.momentum_score Ã— 0.25
score.weighted_volume = score.volume_score Ã— 0.20
# ...

score.base_score = sum of all weighted scores
```

**Ù…Ø«Ø§Ù„:**
```
trend_score = 100 â†’ weighted_trend = 30
momentum_score = 80 â†’ weighted_momentum = 20
volume_score = 90 â†’ weighted_volume = 18
pattern_score = 70 â†’ weighted_pattern = 7
sr_score = 60 â†’ weighted_sr = 4.8

base_score = 30 + 20 + 18 + 7 + 4.8 + ... â‰ˆ 85
```

### 4.5 Ù…Ø±Ø­Ù„Ù‡ 3: Ù‡Ù…Ú¯Ø±Ø§ÛŒÛŒ (Confluence)

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 557-630

**Ø¯Ùˆ Ø¨Ø®Ø´:**

#### **Ø¨Ø®Ø´ 1: Alignment Bonus**
```python
# Ú†Ù†Ø¯ Analyzer Ù‡Ù…â€ŒØ¬Ù‡Øª Ù‡Ø³ØªÙ†Ø¯ØŸ
aligned_analyzers = 0

if trend == direction: aligned_analyzers += 1
if momentum == direction: aligned_analyzers += 1
if volume_confirmed: aligned_analyzers += 1
if patterns == direction: aligned_analyzers += 1
if htf == direction: aligned_analyzers += 1

alignment_ratio = aligned_analyzers / 5
alignment_bonus = alignment_ratio Ã— 0.25  # max +25%
```

#### **Ø¨Ø®Ø´ 2: Risk/Reward Bonus**
```python
# Ù†Ø³Ø¨Øª Ø³ÙˆØ¯ Ø¨Ù‡ Ø¶Ø±Ø± Ø®ÙˆØ¨ Ø§Ø³ØªØŸ
if risk_reward_ratio >= 2.0:
    rr_bonus = min(0.25, (rr_ratio - 2.0) Ã— 0.125)
else:
    rr_bonus = 0
```

**ØªØ±Ú©ÛŒØ¨:**
```python
confluence_bonus = alignment_bonus + rr_bonus
# max: 0.5 (50%)
```

### 4.6 Ù…Ø±Ø§Ø­Ù„ 4-13: Ø¶Ø±Ø§ÛŒØ¨ (Multipliers)

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 630-800

```python
# [4] Timeframe Weight
timeframe_weights = {
    '5m': 0.7,   # -30%
    '15m': 0.85, # -15%
    '1h': 1.0,   # reference
    '4h': 1.2    # +20%
}

# [5] HTF Alignment
if htf_aligned:
    htf_multiplier = 1.3  # +30%
elif htf_misaligned:
    htf_multiplier = 0.7  # -30%
else:
    htf_multiplier = 1.0

# [6] Volatility Adjustment
if volatility == 'high':
    volatility_multiplier = 0.7  # -30%
elif volatility == 'low':
    volatility_multiplier = 1.0
else:
    volatility_multiplier = 0.85

# [7] Trend Alignment
if trend_phase == 'early':
    trend_alignment = 1.2  # +20%
elif trend_phase == 'late':
    trend_alignment = 0.8  # -20%
else:
    trend_alignment = 1.0

# [8] Volume Confirmation
if volume_confirmed:
    volume_confirmation = 1.4  # +40%
else:
    volume_confirmation = 1.0

# [9] Pattern Quality
if strongest_pattern:
    quality = pattern.quality_score / 100
    pattern_quality = 1.0 + (quality Ã— 0.5)  # up to +50%

# [10] MACD Analysis
macd_type = momentum_result.get('macd_type')
if macd_type.startswith('A_'):  # Strong bullish
    macd_analysis = 1.15  # +15%
elif macd_type.startswith('C_'):  # Strong bearish
    macd_analysis = 1.15
else:
    macd_analysis = 1.0
```

### 4.7 ÙØ±Ù…ÙˆÙ„ Ù†Ù‡Ø§ÛŒÛŒ (13 Ø¶Ø±ÛŒØ¨)

**Ù…Ø­Ù„:** `signal_score.py:89-139`

```python
final_score = (
    base_score
    Ã— (1.0 + confluence_bonus)       # 0-0.5
    Ã— timeframe_weight                # 0.7-1.2
    Ã— trend_alignment                 # 0.8-1.2
    Ã— volume_confirmation             # 1.0-1.4
    Ã— pattern_quality                 # 1.0-1.5
    Ã— symbol_performance_factor       # 0.8-1.3
    Ã— correlation_safety_factor       # 0.5-1.0
    Ã— macd_analysis_score             # 0.85-1.15
    Ã— structure_score                 # 0.8-1.2
    Ã— volatility_multiplier           # 0.5-1.0
    Ã— harmonic_multiplier             # 1.0-1.2
    Ã— channel_multiplier              # 1.0-1.1
    Ã— cyclical_multiplier             # 1.0-1.1
)
```

**Ù…Ø«Ø§Ù„ Ù…Ø­Ø§Ø³Ø¨Ù‡:**

```
base_score = 85

Ã— (1 + 0.3)           = Ã—1.3   (confluence: 3/5 aligned + RR=2.5)
Ã— 1.0                 = Ã—1.0   (timeframe: 1h)
Ã— 1.1                 = Ã—1.1   (trend: developing phase)
Ã— 1.4                 = Ã—1.4   (volume confirmed)
Ã— 1.2                 = Ã—1.2   (pattern quality: 80/100)
Ã— 1.0                 = Ã—1.0   (symbol performance: neutral)
Ã— 1.0                 = Ã—1.0   (no correlation issues)
Ã— 1.15                = Ã—1.15  (MACD: A_STRONG type)
Ã— 1.0                 = Ã—1.0   (HTF: neutral)
Ã— 0.9                 = Ã—0.9   (volatility: normal)
Ã— 1.0                 = Ã—1.0   (no harmonic)
Ã— 1.0                 = Ã—1.0   (no channel)
Ã— 1.0                 = Ã—1.0   (no cyclical)

final_score = 85 Ã— 1.3 Ã— 1.0 Ã— 1.1 Ã— 1.4 Ã— 1.2 Ã— 1.0 Ã— 1.0 Ã— 1.15 Ã— 1.0 Ã— 0.9 Ã— 1.0 Ã— 1.0 Ã— 1.0
            = 85 Ã— 2.57
            â‰ˆ 218
```

### 4.8 ØªØ¹ÛŒÛŒÙ† Ù‚Ø¯Ø±Øª Ø³ÛŒÚ¯Ù†Ø§Ù„

**Ù…Ø­Ù„:** `signal_score.py:141-160`

```python
if final_score < 80:
    signal_strength = 'weak'
elif final_score < 150:
    signal_strength = 'medium'
else:
    signal_strength = 'strong'
```

**Ù…Ø­Ø¯ÙˆØ¯Ù‡â€ŒÙ‡Ø§:**
- **weak:** 0-79 (Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø¶Ø¹ÛŒÙ - Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø±Ø¯ Ø´ÙˆØ¯)
- **medium:** 80-149 (Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù…ØªÙˆØ³Ø· - Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„)
- **strong:** 150+ (Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù‚ÙˆÛŒ - Ø¨Ù‡ØªØ±ÛŒÙ† ÙØ±ØµØª)

### 4.9 Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† (Confidence)

**Ù…Ø­Ù„:** `signal_score.py:162-200`

```python
confidence = 0.3  # base

# Aligned Analyzers
if aligned_analyzers >= 7:
    confidence += 0.3
elif aligned_analyzers >= 5:
    confidence += 0.2
elif aligned_analyzers >= 3:
    confidence += 0.1

# Final Score
if final_score >= 150:
    confidence += 0.2
elif final_score >= 100:
    confidence += 0.1

# Confluence
if confluence_bonus >= 0.3:
    confidence += 0.2
elif confluence_bonus >= 0.2:
    confidence += 0.1

confidence = min(1.0, confidence)  # max 1.0
```

---

## Ø¨Ø®Ø´ Ûµ: ØªØ±Ú©ÛŒØ¨ Multi-Timeframe

### 5.1 MultiTimeframeAggregator

**Ù…Ø­Ù„:** `signal_generation/multi_tf_aggregator.py:44-822`

Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ø± ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… ÛŒÚ© Ø³ÛŒÚ¯Ù†Ø§Ù„ ØªÙˆÙ„ÛŒØ¯ Ø´Ø¯ØŒ Ø¨Ø§ÛŒØ¯ Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ ØªØ±Ú©ÛŒØ¨ Ú©Ù†ÛŒÙ….

### 5.2 ÙØ±Ø¢ÛŒÙ†Ø¯ ØªØ±Ú©ÛŒØ¨ (8 Ù…Ø±Ø­Ù„Ù‡)

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 112-218

```python
def aggregate_timeframe_scores(
    symbol: str,
    timeframe_signals: Dict[str, TimeframeSignal]
) -> Optional[SignalInfo]:

    # [1] Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª Ú©Ù„
    bullish_score, bearish_score = self._calculate_aggregate_scores(
        timeframe_signals
    )

    # [2] ØªØ¹ÛŒÛŒÙ† Ø¬Ù‡Øª Ù†Ù‡Ø§ÛŒÛŒ (Ø¨Ø§ margin 30%)
    final_direction = self._determine_direction(
        bullish_score, bearish_score
    )

    # [2.5] Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¬Ù…Ø§Ø¹ (consensus)
    has_consensus = self._check_timeframe_consensus(
        timeframe_signals, final_direction, min_consensus=0.75
    )

    # [3] Ù…Ø­Ø§Ø³Ø¨Ù‡ alignment factor
    alignment_factor = self._calculate_alignment_factor(
        timeframe_signals, final_direction
    )

    # [4] Ù…Ø­Ø§Ø³Ø¨Ù‡ volume factor
    volume_factor = self._calculate_volume_factor(timeframe_signals)

    # [5] Ù…Ø­Ø§Ø³Ø¨Ù‡ HTF factor
    htf_factor = self._calculate_htf_factor(timeframe_signals)

    # [6] Ù…Ø­Ø§Ø³Ø¨Ù‡ volatility factor
    volatility_factor = self._calculate_volatility_factor(timeframe_signals)

    # [7] Ù…Ø­Ø§Ø³Ø¨Ù‡ confidence metrics
    confidence_metrics = self.confidence_calculator.calculate_confidence(...)

    # [8] Ø³Ø§Ø®Øª Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù†Ù‡Ø§ÛŒÛŒ
    signal_info = self._build_signal_info(...)

    return signal_info
```

### 5.3 Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª Ú©Ù„

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 220-332

```python
def _calculate_aggregate_scores(
    timeframe_signals
) -> Tuple[float, float]:
    """
    Ø¨Ø±Ø§ÛŒ Ù‡Ø± TF:
        1. Ø¯Ø±ÛŒØ§ÙØª Ù†ØªØ§ÛŒØ¬ Analyzer Ù‡Ø§
        2. Ø§Ø¹Ù…Ø§Ù„ ÙˆØ²Ù† TF
        3. Ø§Ø¹Ù…Ø§Ù„ Phase multiplier
        4. Ø§Ø¹Ù…Ø§Ù„ MACD strength
        5. Ø¬Ù…Ø¹ Ø¯Ø± bullish_score ÛŒØ§ bearish_score
    """
    bullish_score = 0.0
    bearish_score = 0.0

    for tf, tf_signal in timeframe_signals.items():
        tf_weight = TF_WEIGHTS[tf]  # 5m:0.7, 15m:0.85, 1h:1.0, 4h:1.1

        # Trend
        trend = tf_signal.context.get_result('trend')
        trend_strength = trend['strength']
        trend_phase = trend['phase']

        phase_multiplier = PHASE_MULTIPLIERS[trend_phase]

        if trend['direction'] == 'bullish':
            bullish_score += trend_strength Ã— tf_weight Ã— phase_multiplier

        # Momentum
        momentum = tf_signal.context.get_result('momentum')
        macd_type = momentum['macd_type']

        macd_strength = MACD_TYPE_STRENGTH[macd_type[0]]  # A, B, C, D, X

        bullish_score += momentum['bullish'] Ã— tf_weight Ã— macd_strength
        bearish_score += momentum['bearish'] Ã— tf_weight Ã— macd_strength

        # Volume bonus
        if tf_signal.volume_confirmed:
            if trend['direction'] == 'bullish':
                bullish_score += 1.0 Ã— tf_weight

    return (bullish_score, bearish_score)
```

**Phase Multipliers:**
```python
{
    'early': 1.2,       # +20% - Ø¨Ù‡ØªØ±ÛŒÙ† ÙØ±ØµØª
    'developing': 1.1,  # +10%
    'mature': 0.9,      # -10%
    'late': 0.7,        # -30% - Ø®Ø·Ø±Ù†Ø§Ú©
    'pullback': 1.1,    # +10%
    'transition': 0.8   # -20%
}
```

**MACD Type Strength:**
```python
{
    'A': 1.2,  # A_ types (strong bullish) +20%
    'C': 1.2,  # C_ types (strong bearish) +20%
    'B': 1.0,  # B_ types (neutral)
    'D': 1.0,  # D_ types (neutral)
    'X': 0.8   # X_ types (transition) -20%
}
```

### 5.4 ØªØ¹ÛŒÛŒÙ† Ø¬Ù‡Øª Ù†Ù‡Ø§ÛŒÛŒ

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 334-357

```python
def _determine_direction(
    bullish_score: float,
    bearish_score: float
) -> str:
    """
    Ø¨Ø§ margin 30%
    """
    if bullish_score > bearish_score Ã— 1.3:
        return 'LONG'
    elif bearish_score > bullish_score Ã— 1.3:
        return 'SHORT'
    else:
        return 'NEUTRAL'  # Ù‡ÛŒÚ† Ø³ÛŒÚ¯Ù†Ø§Ù„ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
```

**Ù…Ø«Ø§Ù„:**
```
bullish_score = 15
bearish_score = 10

15 > 10 Ã— 1.3 = 13?  âœ“ YES â†’ LONG

Ø§Ú¯Ø± bearish_score = 12 Ø¨ÙˆØ¯:
15 > 12 Ã— 1.3 = 15.6?  âœ— NO â†’ NEUTRAL
```

### 5.5 Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¬Ù…Ø§Ø¹ (Consensus Check)

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 359-400

```python
def _check_timeframe_consensus(
    timeframe_signals,
    final_direction,
    min_consensus=0.75  # 75%
) -> bool:
    """
    Ø­Ø¯Ø§Ù‚Ù„ 75% ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ù‡Ù…â€ŒØ¬Ù‡Øª Ø¨Ø§Ø´Ù†Ø¯
    """
    aligned_count = 0
    total_count = len(timeframe_signals)

    for tf_signal in timeframe_signals.values():
        if tf_signal.direction == final_direction:
            aligned_count += 1

    consensus_ratio = aligned_count / total_count

    return consensus_ratio >= min_consensus
```

**Ù…Ø«Ø§Ù„:**
```
ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…â€ŒÙ‡Ø§:
5m: LONG
15m: LONG
1h: LONG
4h: SHORT

final_direction = LONG
aligned = 3/4 = 75%

consensus_ratio >= 0.75?  âœ“ YES â†’ Ù‚Ø¨ÙˆÙ„
```

### 5.6 Alignment Factor

**Ù…Ø­Ù„:** Ø®Ø·ÙˆØ· 402-480

```python
def _calculate_alignment_factor(
    timeframe_signals,
    final_direction
) -> float:
    """
    Ø¨Ø±Ø±Ø³ÛŒ Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒ Trend, Momentum, MACD

    ÙˆØ²Ù†â€ŒÙ‡Ø§:
    - Trend: 50%
    - Momentum: 30%
    - MACD: 20%

    Ù…Ø­Ø¯ÙˆØ¯Ù‡: 0.7 - 1.3
    """
    aligned_trend = 0
    total_trend = 0

    aligned_momentum = 0
    total_momentum = 0

    aligned_macd = 0
    total_macd = 0

    # Ø´Ù…Ø§Ø±Ø´ Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒâ€ŒÙ‡Ø§
    for tf_signal in timeframe_signals.values():
        trend = tf_signal.context.get_result('trend')
        if trend:
            total_trend += 1
            if (final_direction == 'LONG' and trend['direction'] == 'bullish') or \
               (final_direction == 'SHORT' and trend['direction'] == 'bearish'):
                aligned_trend += 1

        # Ù…Ø´Ø§Ø¨Ù‡ Ø¨Ø±Ø§ÛŒ momentum Ùˆ macd

    # Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†Ø³Ø¨Øªâ€ŒÙ‡Ø§
    trend_ratio = aligned_trend / total_trend if total_trend > 0 else 0
    momentum_ratio = aligned_momentum / total_momentum if total_momentum > 0 else 0
    macd_ratio = aligned_macd / total_macd if total_macd > 0 else 0

    # ØªØ±Ú©ÛŒØ¨ Ø¨Ø§ ÙˆØ²Ù†
    weighted_alignment = (
        trend_ratio Ã— 0.5 +
        momentum_ratio Ã— 0.3 +
        macd_ratio Ã— 0.2
    )

    # ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ multiplier (0.7 - 1.3)
    alignment_factor = 0.7 + (weighted_alignment Ã— 0.6)

    return alignment_factor
```

**Ù…Ø«Ø§Ù„:**
```
4 TF Ø¯Ø§Ø±ÛŒÙ…ØŒ direction = LONG

Trend: 4/4 aligned (100%)
Momentum: 3/4 aligned (75%)
MACD: 3/4 aligned (75%)

weighted_alignment = 1.0Ã—0.5 + 0.75Ã—0.3 + 0.75Ã—0.2
                   = 0.5 + 0.225 + 0.15
                   = 0.875

alignment_factor = 0.7 + (0.875 Ã— 0.6)
                 = 0.7 + 0.525
                 = 1.225  (+22.5%)
```

### 5.7 Ø®Ø±ÙˆØ¬ÛŒ Ù†Ù‡Ø§ÛŒÛŒ

```python
signal_info = SignalInfo(
    symbol=symbol,
    timeframe='MULTI',  # ØªØ±Ú©ÛŒØ¨ Ú†Ù†Ø¯ TF
    direction=final_direction,
    score=final_score,
    confidence=confidence_metrics.overall_confidence,

    # Ø¬Ø²Ø¦ÛŒØ§Øª
    bullish_score=bullish_score,
    bearish_score=bearish_score,
    alignment_factor=alignment_factor,
    volume_factor=volume_factor,
    htf_factor=htf_factor,

    # ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ø´Ø§Ø±Ú©Øªâ€ŒÚ©Ù†Ù†Ø¯Ù‡
    contributing_timeframes=['5m', '15m', '1h', '4h'],

    # Entry, SL, TP Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø´Ø¯Ù‡
    ...
)
```

---

## Ø¨Ø®Ø´ Û¶: Ø®Ù„Ø§ØµÙ‡ Ùˆ Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ

### 6.1 Ù…Ø³ÛŒØ± Ú©Ø§Ù…Ù„ ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„

```
[ÙˆØ±ÙˆØ¯ÛŒ] SignalProcessor.process_symbol(symbol)
    â†“
[Phase 0] Circuit Breaker Check
    â†“
[Phase 1] Fetch Data (4 timeframes Ã— 500 candles)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø¨Ø±Ø§ÛŒ Ù‡Ø± ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ… (5m, 15m, 1h, 4h):                 â”‚
â”‚                                                     â”‚
â”‚   [1.5] Cache Check â†’ Ø§Ú¯Ø± valid Ø¨ÙˆØ¯ return cached  â”‚
â”‚      â†“                                              â”‚
â”‚   [2] Create AnalysisContext                       â”‚
â”‚      â†“                                              â”‚
â”‚   [3] Calculate Indicators (10 indicators)         â”‚
â”‚      â†’ EMA, SMA, RSI, MACD, Stochastic, ...        â”‚
â”‚      â†“                                              â”‚
â”‚   [3.5] Detect Market Regime                       â”‚
â”‚      â†“                                              â”‚
â”‚   [4] Run 11 Analyzers                             â”‚
â”‚      â”œâ”€â†’ TrendAnalyzer                             â”‚
â”‚      â”œâ”€â†’ MomentumAnalyzer                          â”‚
â”‚      â”œâ”€â†’ VolumeAnalyzer                            â”‚
â”‚      â”œâ”€â†’ PatternAnalyzer (35+ patterns)            â”‚
â”‚      â””â”€â†’ ... (7 more)                              â”‚
â”‚      â†“                                              â”‚
â”‚   [5] Determine Direction                          â”‚
â”‚      â†’ LONG, SHORT, or None                        â”‚
â”‚      â†“                                              â”‚
â”‚   [6] SignalScorer.calculate_score()               â”‚
â”‚      â”œâ”€â†’ Base scores (10 analyzers)                â”‚
â”‚      â”œâ”€â†’ Apply weights                             â”‚
â”‚      â”œâ”€â†’ Calculate confluence                      â”‚
â”‚      â””â”€â†’ Apply 13 multipliers                      â”‚
â”‚      â†“                                              â”‚
â”‚   [7] SignalValidator.validate()                   â”‚
â”‚      â†“                                              â”‚
â”‚   [Result] TimeframeSignal                         â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
[Phase 2] MultiTimeframeAggregator
    â”œâ”€â†’ Calculate aggregate scores
    â”œâ”€â†’ Determine direction (with 30% margin)
    â”œâ”€â†’ Check consensus (75% agreement)
    â”œâ”€â†’ Calculate alignment factor
    â””â”€â†’ Build final signal
    â†“
[Ø®Ø±ÙˆØ¬ÛŒ] SignalInfo (Final Signal)
```

### 6.2 Ø¢Ù…Ø§Ø± Ùˆ Ø§Ø±Ù‚Ø§Ù… Ú©Ù„ÛŒØ¯ÛŒ

**Ú©Ø¯ Ø³ÛŒØ³ØªÙ…:**
- **ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§:** 90+ ÙØ§ÛŒÙ„ Python
- **ØªØ¹Ø¯Ø§Ø¯ Ø®Ø·ÙˆØ· Ú©Ø¯:** ~50,000+ Ø®Ø·
- **Indicators:** 10 Ø¹Ø¯Ø¯
- **Analyzers:** 11 Ø¹Ø¯Ø¯ (6535 Ø®Ø·)
- **Patterns:** 35+ Ø§Ù„Ú¯Ùˆ
- **Ø¶Ø±Ø§ÛŒØ¨ Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ:** 13 Ø¶Ø±ÛŒØ¨

**Ø¹Ù…Ù„Ú©Ø±Ø¯:**
- **Ø²Ù…Ø§Ù† Ù¾Ø±Ø¯Ø§Ø²Ø´:** ~2-5 Ø«Ø§Ù†ÛŒÙ‡ per symbol (Ø¨Ø§ cache)
- **ØªØ¹Ø¯Ø§Ø¯ Ú©Ù†Ø¯Ù„:** 500 per timeframe
- **ØªØ¹Ø¯Ø§Ø¯ Ø³ØªÙˆÙ† Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±:** 20+
- **ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø±Ø±Ø³ÛŒ validation:** 10+

### 6.3 Ù†Ù‚Ø§Ø· Ù‚ÙˆØª Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯

âœ… **1. Ù…Ø§Ú˜ÙˆÙ„Ø§Ø± Ø¨ÙˆØ¯Ù†:**
- Ù‡Ø± Ø¨Ø®Ø´ Ù…Ø³ØªÙ‚Ù„ Ù‚Ø§Ø¨Ù„ ØªØ³Øª Ø§Ø³Øª
- ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§Ø­Øªâ€ŒØªØ± Ùˆ Ø§ÛŒÙ…Ù†â€ŒØªØ±
- Ø§ÙØ²ÙˆØ¯Ù† Analyzer/Indicator Ø¬Ø¯ÛŒØ¯ Ø¢Ø³Ø§Ù†

âœ… **2. Cache Ùˆ Performance:**
- TimeframeScoreCache Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø­Ø§Ø³Ø¨Ø§Øª ØªÚ©Ø±Ø§Ø±ÛŒ
- Context Cache Ø¨Ø±Ø§ÛŒ Multi-TF
- Indicator caching

âœ… **3. ÙˆØ²Ù†â€ŒØ¯Ù‡ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡:**
- Per-Timeframe weights
- 13 Ø¶Ø±ÛŒØ¨ Ù‚Ø§Ø¨Ù„ ØªÙ†Ø¸ÛŒÙ…
- Confluence bonus

âœ… **4. Consensus Check:**
- Ø­Ø¯Ø§Ù‚Ù„ 75% ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…â€ŒÙ‡Ø§ Ø¨Ø§ÛŒØ¯ Ù…ÙˆØ§ÙÙ‚ Ø¨Ø§Ø´Ù†Ø¯
- Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø³ÛŒÚ¯Ù†Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù…ØªØ¶Ø§Ø¯

âœ… **5. Type Safety:**
- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Enums
- Constants Ø¨Ø±Ø§ÛŒ magic numbers
- Dataclasses Ø¨Ø±Ø§ÛŒ structures

âœ… **6. Error Handling:**
- Try-catch Ø¯Ø± ØªÙ…Ø§Ù… Ø³Ø·ÙˆØ­
- Graceful degradation
- Detailed logging

âœ… **7. Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯:**
- Circuit Breaker (ØªÙˆÙ‚Ù Ø§Ø¶Ø·Ø±Ø§Ø±ÛŒ)
- Adaptive Learning (ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø§Ø² Ù…Ø¹Ø§Ù…Ù„Ø§Øª)
- Correlation Manager (Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ù…Ø¨Ø³ØªÚ¯ÛŒ)
- Market Regime Detector (ØªØ´Ø®ÛŒØµ Ø±Ú˜ÛŒÙ…)

### 6.4 ØªÙØ§ÙˆØª Ú©Ù„ÛŒØ¯ÛŒ Ø¨Ø§ Ø³ÛŒØ³ØªÙ… Ù‚Ø¯ÛŒÙ…

| Ù…Ø¹ÛŒØ§Ø± | Ø³ÛŒØ³ØªÙ… Ù‚Ø¯ÛŒÙ… | Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯ |
|-------|-----------|-----------|
| **Ù…Ø¹Ù…Ø§Ø±ÛŒ** | 1 Ú©Ù„Ø§Ø³ Ø¨Ø²Ø±Ú¯ | 90+ Ù…Ø§Ú˜ÙˆÙ„ Ù…Ø³ØªÙ‚Ù„ |
| **ØªØ³Øª** | Ø³Ø®Øª | Ø¢Ø³Ø§Ù† (unit tests) |
| **Cache** | âŒ Ù†Ø¯Ø§Ø±Ø¯ | âœ… Ú†Ù†Ø¯ Ù„Ø§ÛŒÙ‡ |
| **Patterns** | Ú©Ø¯ Ø¯Ø±Ù‡Ù… | 35+ Ú©Ù„Ø§Ø³ Ù…Ø³ØªÙ‚Ù„ |
| **Consensus** | âŒ Ù†Ø¯Ø§Ø±Ø¯ | âœ… 75% agreement |
| **Validation** | Ø³Ø§Ø¯Ù‡ | Ù¾ÛŒØ´Ø±ÙØªÙ‡ (10+ check) |
| **Weights** | Ø«Ø§Ø¨Øª | Per-TF configurable |
| **Error Recovery** | Ù…Ø­Ø¯ÙˆØ¯ | Ù¾ÛŒØ´Ø±ÙØªÙ‡ |

### 6.5 ÙØ±Ù…ÙˆÙ„ Ù†Ù‡Ø§ÛŒÛŒ Ø§Ù…ØªÛŒØ§Ø²Ø¯Ù‡ÛŒ

```python
# Ø¨Ø±Ø§ÛŒ Ù‡Ø± ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…:
base_score = Î£(analyzer_score Ã— weight)

final_score_per_tf = (
    base_score
    Ã— (1 + confluence_bonus)    # 0-50%
    Ã— timeframe_weight           # Â±30%
    Ã— trend_alignment            # Â±20%
    Ã— volume_confirmation        # 0-40%
    Ã— pattern_quality            # 0-50%
    Ã— 9 Ø¶Ø±ÛŒØ¨ Ø¯ÛŒÚ¯Ø±...
)

# ØªØ±Ú©ÛŒØ¨ Multi-TF:
bullish_score = Î£(tf_score Ã— tf_weight Ã— phase_mult Ã— macd_strength)
                for each TF where direction=bullish

bearish_score = Î£(...)

if bullish_score > bearish_score Ã— 1.3:
    direction = LONG
    final_score = bullish_score Ã— alignment_factor Ã— volume_factor Ã— htf_factor
```

### 6.6 Ø­Ø¯ Ù†ØµØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…

```python
# Ø§Ù…ØªÛŒØ§Ø²
min_score = 80              # Ø­Ø¯Ø§Ù‚Ù„ Ø¨Ø±Ø§ÛŒ Ù‚Ø¨ÙˆÙ„
medium_threshold = 150      # Ø¢Ø³ØªØ§Ù†Ù‡ Ù…ØªÙˆØ³Ø·/Ù‚ÙˆÛŒ

# Consensus
min_consensus = 0.75        # 75% ØªØ§ÛŒÙ…â€ŒÙØ±ÛŒÙ…â€ŒÙ‡Ø§ Ù…ÙˆØ§ÙÙ‚

# Direction Margin
direction_margin = 1.3      # 30% Ø§Ø®ØªÙ„Ø§Ù

# Risk/Reward
min_rr_ratio = 2.0          # Ø­Ø¯Ø§Ù‚Ù„ 1:2

# Confidence
min_confidence = 0.5        # Ø­Ø¯Ø§Ù‚Ù„ Ø§Ø·Ù…ÛŒÙ†Ø§Ù†
high_confidence = 0.8       # Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¨Ø§Ù„Ø§

# Alignment
min_alignment = 0.7         # Ø­Ø¯Ø§Ù‚Ù„ Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒ
max_alignment = 1.3         # Ø­Ø¯Ø§Ú©Ø«Ø± Ù‡Ù…Ø±Ø§Ø³ØªØ§ÛŒÛŒ
```

---

## Ù¾ÛŒÙˆØ³Øª: Ù…Ø±Ø§Ø¬Ø¹ Ú©Ø¯ Ø§ØµÙ„ÛŒ

Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ú©Ø¯ ÙˆØ§Ù‚Ø¹ÛŒØŒ Ø¨Ù‡ Ø§ÛŒÙ† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯:

### Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ:
- `signal_generation/orchestrator.py:98-1275`
- `signal_generation/signal_scorer.py:27-876`
- `signal_generation/multi_tf_aggregator.py:44-822`

### Ø§Ù†Ø¯ÛŒÚ©Ø§ØªÙˆØ±Ù‡Ø§:
- `signal_generation/analyzers/indicators/indicator_orchestrator.py:17-347`
- `signal_generation/analyzers/indicators/*.py` (10 ÙØ§ÛŒÙ„)

### ØªØ­Ù„ÛŒÙ„Ú¯Ø±Ø§Ù†:
- `signal_generation/analyzers/trend_analyzer.py:48-548`
- `signal_generation/analyzers/momentum_analyzer.py:1-1303`
- `signal_generation/analyzers/*.py` (11 ÙØ§ÛŒÙ„ØŒ 6535 Ø®Ø·)

### Ø§Ù„Ú¯ÙˆÙ‡Ø§:
- `signal_generation/analyzers/patterns/pattern_orchestrator.py`
- `signal_generation/analyzers/patterns/candlestick/*.py` (30+ ÙØ§ÛŒÙ„)
- `signal_generation/analyzers/patterns/chart/*.py` (5 ÙØ§ÛŒÙ„)

### Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯:
- `signal_generation/systems/market_regime_detector.py`
- `signal_generation/systems/adaptive_learning_system.py`
- `signal_generation/systems/correlation_manager.py`
- `signal_generation/systems/emergency_circuit_breaker.py`

---

**Ù¾Ø§ÛŒØ§Ù† Ù…Ø³ØªÙ†Ø¯**

Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯ ØªÙˆØ¶ÛŒØ­ Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ø¬Ø¯ÛŒØ¯ ØªÙˆÙ„ÛŒØ¯ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø±Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. Ø¨Ø±Ø§ÛŒ Ø³ÙˆØ§Ù„Ø§Øª Ø¨ÛŒØ´ØªØ± ÛŒØ§ Ø¬Ø²Ø¦ÛŒØ§Øª ÙÙ†ÛŒØŒ Ø¨Ù‡ Ú©Ø¯ Ù…Ù†Ø¨Ø¹ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯.

