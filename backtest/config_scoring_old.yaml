# ================= Scoring Config: OLD SYSTEM =================
# این فایل فقط شامل تنظیمات scoring است
# برای استفاده در backtest با روش OLD (سازگار با سیستم قدیمی)
# ================================================================

# ================= Orchestrator Settings =================
orchestrator:
  # ⚙️ OLD SYSTEM: Multi-TF Aggregation
  use_multi_tf_aggregation: true

signal_processing:
  scoring:
    # ⚙️ OLD SYSTEM - سیستم قدیمی
    scoring_method: old

    # تنظیمات OLD فعال
    old_system:
      # ضرایب اضافی OLD (در backtest بدون داده واقعی = 1.0)
      symbol_performance_enabled: true
      correlation_safety_enabled: true
      structure_score_enabled: true
      harmonic_separate_multiplier: true
      channel_separate_multiplier: true
      cyclical_separate_multiplier: true

      # مقادیر پیش‌فرض (چون در backtest داده تاریخی نداریم)
      symbol_performance_default: 1.0
      correlation_safety_default: 1.0
      structure_score_default: 1.0
      harmonic_multiplier_default: 1.0
      channel_multiplier_default: 1.0
      cyclical_multiplier_default: 1.0

      # RR-based confluence (روش قدیمی)
      use_rr_based_confluence: true

      # نامحدود (OLD style)
      max_final_score: 0  # 0 = unlimited

    # وزن‌های analyzer (همان NEW)
    weights:
      trend: 0.3
      momentum: 0.25
      volume: 0.2
      patterns: 0.1
      support_resistance: 0.08
      volatility: 0.05
      harmonic: 0.01
      channel: 0.005
      cyclical: 0.003
      htf: 0.002

    # وزن‌های timeframe (OLD defaults - محدودتر)
    timeframe_weights:
      5m: 0.7
      15m: 0.85
      1h: 1.0
      4h: 1.2

    # پارامترهای امتیازدهی
    base_score_scale: 100
    max_confluence_bonus: 0.5
    htf_alignment_bonus: 0.3
    htf_misalignment_penalty: 0.3

# Validation thresholds برای OLD
validation:
  min_signal_score: 200        # حداقل 200 (چون نامحدود است)
  strong_signal_threshold: 500  # قوی > 500
  min_rr_ratio: 2.5
  max_risk_percent: 2.0
